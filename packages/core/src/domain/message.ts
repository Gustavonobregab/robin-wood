/**
 * domain/message.ts
 *
 * Defines the internal message model (role, content, metadata) and helpers:
 * - role normalization
 * - empty message detection
 * - safe text extraction
 */
